<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>nano banana</title>
  <link rel="icon" href="/bao.jpg" type="image/jpg"/>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <!-- 顶部导航 -->
  <header class="nb-nav">
    <div class="nb-nav__inner">
      <a class="nb-brand" href="/" aria-label="nano banana 首页">
        <span class="nb-logo">🍌</span>
        <span class="nb-title">nano banana</span>
      </a>

      <nav class="nb-actions">
        <a class="nb-btn nb-btn--ghost" href="https://github.com/baotuo88/nano-banana" target="_blank" rel="noopener noreferrer" aria-label="GitHub 仓库">
          <!-- GitHub 图标（SVG） -->
          <svg class="nb-ico" viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
            <path d="M12 .5A12 12 0 0 0 0 12.7c0 5.4 3.4 9.9 8 11.5.6.1.8-.3.8-.6v-2.2c-3.3.7-4-1.6-4-1.6-.6-1.6-1.5-2-1.5-2-1.2-.8.1-.8.1-.8 1.3.1 2 .1 2.9 1.7 1.2 2 3.2 1.4 4 .9.1-.9.5-1.4.9-1.8-2.7-.3-5.5-1.4-5.5-6.2 0-1.4.5-2.6 1.3-3.5-.1-.3-.6-1.8.1-3.7 0 0 1.1-.4 3.6 1.3 1-.3 2-.5 3-.5s2 .2 3 .5c2.4-1.7 3.6-1.3 3.6-1.3.8 1.9.3 3.4.1 3.7.8.9 1.3 2.1 1.3 3.5 0 4.8-2.8 5.8-5.5 6.2.5.4 1 .1 1.5 1.9v2.8c0 .3.2.7.8.6 4.6-1.6 8-6.1 8-11.5A12 12 0 0 0 12 .5Z"/>
          </svg>
          <span>GitHub</span>
        </a>
      </nav>
    </div>
  </header>

  <main class="nb-main">
    <div class="main-container">
      <div class="controls-container nb-card">
        <div class="api-key-section">
          <h2>设置</h2>
          <input type="password" id="api-key-input" placeholder="输入你的 OpenRouter API 密钥 (必填)">
        </div>

        <div class="upload-section">
          <h2>1. 上传图片</h2>
          <div class="upload-area">
            <input type="file" id="image-upload" accept="image/*" multiple>
            <label for="image-upload">
              <p>点击或拖拽上传</p>
              <span>支持多张图片</span>
            </label>
          </div>
          <div id="thumbnails-container"></div>
        </div>

        <div class="prompt-section">
          <h2>2. 提示词</h2>
          <textarea id="prompt-input" placeholder="例如：一只穿着超级英雄斗篷的猫，电影级灯光"></textarea>
          <div class="tpl-row">
            <button class="tpl-btn" data-tpl="赛博朋克风霓虹城市，高对比度，镜头光晕">赛博朋克</button>
            <button class="tpl-btn" data-tpl="皮克斯动画风，柔光，暖色调，Q版">动画风</button>
            <button class="tpl-btn" data-tpl="写实摄影，浅景深，电影级打光">写实摄影</button>
            <button class="tpl-btn" data-tpl="水彩插画，柔和配色，细腻笔触">水彩插画</button>
          </div>
        </div>

        <div class="param-section">
          <h2>3. 参数</h2>
          <div class="param-grid">
            <label class="nb-field">
              <span>数量</span>
              <input id="count-input" type="number" min="1" max="2" value="1"/>
            </label>
            <label class="nb-field">
              <span>尺寸</span>
              <select id="size-input">
                <option value="square">正方形</option>
                <option value="portrait">竖版</option>
                <option value="landscape">横版</option>
              </select>
            </label>
            <label class="nb-field nb-field--full">
              <span>风格</span>
              <select id="style-input">
                <option value="">默认</option>
                <option value="写实">写实</option>
                <option value="插画">插画</option>
                <option value="动漫">动漫</option>
                <option value="像素风">像素风</option>
              </select>
            </label>
          </div>
        </div>

        <button id="generate-btn" class="nb-btn nb-btn--primary">
          <span class="btn-text">生成</span>
          <span class="spinner hidden"></span>
        </button>

        <button id="feedback-btn" class="nb-btn nb-btn--ghost" style="margin-top:10px;">反馈问题或建议</button>
      </div>

      <div class="result-container nb-card">
        <h2>生成结果</h2>
        <div id="result-image-container" class="nb-result">
          <p>生成的图片将显示在这里</p>
        </div>

        <h2 class="nb-history-title">历史记录</h2>
        <div id="history-container" class="nb-history"></div>
      </div>
    </div>
  </main>

  <!-- 反馈弹窗 -->
  <dialog id="feedback-dialog" class="nb-dialog">
    <form method="dialog">
      <h3>提交反馈</h3>
      <textarea id="feedback-text" placeholder="描述你的问题或建议…" rows="6"></textarea>
      <div class="nb-dialog__actions">
        <button id="feedback-cancel" class="nb-btn nb-btn--ghost">取消</button>
        <button id="feedback-submit" value="submit" class="nb-btn nb-btn--primary">提交</button>
      </div>
    </form>
  </dialog>

  <script src="script.js"></script>
</body>
</html>
